# PRD: 연구실 케이지 관리 서비스

> **문서 버전**: v1.0  
> **작성일**: 2026-01-18  
> **상태**: 초안

---

## 1. 개요

### 1.1 문제 정의

병원 실험동물센터에서는 3개의 랙, 수백 개의 케이지를 관리하고 있습니다. 현재는 구글 스프레드시트를 활용하여 케이지 배정 현황을 관리하고 있으나, 다음과 같은 문제가 있습니다:

| 문제 | 영향 |
|------|------|
| **히스토리 유실** | 오늘 데이터로 업데이트하면 과거 기록이 사라짐 |
| **맞춤 리포트 불가** | 원하는 형태의 xlsx 파일 내보내기가 어려움 |
| **동시 수정 충돌** | 여러 연구원이 동시 수정 시 데이터 충돌 발생 |
| **모바일 불편** | 스프레드시트의 모바일 편집이 불편함 |

### 1.2 솔루션 요약

**스프레드시트를 대체하는 전용 웹 서비스**를 구축하여:
- 케이지 배정/해제를 최소 클릭으로 처리
- 모든 변경 이력을 자동 저장
- 교수별 비용 현황을 차트와 xlsx로 제공
- 동시 수정 충돌을 자동 감지하고 해결

---

## 2. 목표

### 2.1 비즈니스 목표

| 목표 | 측정 방법 |
|------|-----------|
| 연구원의 케이지 관리 시간 최소화 | 케이지 배정/해제 소요 시간 측정 |
| 비용 및 사용 현황의 쉬운 관리 | 월말 정산 소요 시간 감소 |

### 2.2 성공 지표

| 지표 | 목표 |
|------|------|
| **스프레드시트 대체율** | 100% (연구원들이 스프레드시트 없이 운영) |
| **사용자 만족도** | 불편함 없이 운영된다는 피드백 |

---

## 3. 사용자 페르소나

### 3.1 연구원 (Primary User)

| 속성 | 내용 |
|------|------|
| **인구통계** | 20~30대 초반, 전문대 졸업 계약직 |
| **역할** | 실험동물 관리, 케이지 배정/해제 실무 |
| **사용 맥락** | 교수 지시에 따라 틈틈이 즉시 처리 |
| **핵심 니즈** | 빠르고 간단한 조작, 모바일 접근성 |
| **불편 사항** | 불필요한 클릭, 확인 팝업, 느린 로딩 |

### 3.2 관리자 (Secondary User)

| 속성 | 내용 |
|------|------|
| **인구통계** | 30대 중반, 수의학 석사 |
| **역할** | 실험동물센터 관리, 비용 정산, 현황 파악 |
| **사용 맥락** | 수시로 현황 확인, 월말 정산 |
| **핵심 니즈** | 한눈에 보이는 대시보드, xlsx 다운로드 |
| **불편 사항** | 수작업 정산, 히스토리 추적 불가 |

---

## 4. 사용자 스토리

### 4.1 FEAT-1: 케이지 배정/해제 (MVP)

| ID | 사용자 스토리 | 인수 조건 |
|----|---------------|-----------|
| US-1.1 | 연구원으로서, 빈 케이지를 클릭하면 교수 목록이 바로 뜨고, 선택 즉시 배정되길 원한다 | 더블클릭/터치 → 교수 목록 → 선택 즉시 저장 (확인 버튼 없음) |
| US-1.2 | 연구원으로서, 사용 중인 케이지를 클릭하면 해제할 수 있길 원한다 | 클릭 → "사용 종료?" 확인/취소 팝업 → 확인 시 즉시 해제 |
| US-1.3 | 연구원으로서, 랙1/2/3을 탭으로 쉽게 전환하고 싶다 | 스프레드시트 Sheet 탭처럼 전환 |
| US-1.4 | 관리자로서, 랙의 그리드 크기(예: 8×8)를 설정하고 싶다 | 설정 화면에서 랙별 행/열 수 지정 가능 |
| US-1.5 | 관리자로서, 교수 정보(이름, 담당 학생, 연락처)를 등록/관리하고 싶다 | 설정 > 교수 관리 페이지에서 CRUD |

### 4.2 FEAT-2: 실시간 현황판

| ID | 사용자 스토리 | 인수 조건 |
|----|---------------|-----------|
| US-2.1 | 관리자로서, 3개 랙의 사용/미사용 케이지 수를 한눈에 보고 싶다 | 대시보드 상단에 요약 카드 |
| US-2.2 | 관리자로서, 교수별 현재 사용 중인 케이지 수를 보고 싶다 | 교수별 사용 현황 리스트 |
| US-2.3 | 관리자로서, 일/주/월별 교수별 비용 차트를 보고 싶다 | 대시보드 하단에 비용 차트 |

### 4.3 FEAT-3: 과금 리포트

| ID | 사용자 스토리 | 인수 조건 |
|----|---------------|-----------|
| US-3.1 | 관리자로서, 교수별 비용 요약을 xlsx로 다운로드하고 싶다 | [요약] 시트: 교수명, 케이지 수, 총 비용 |
| US-3.2 | 관리자로서, 일별 상세 사용 내역을 xlsx로 다운로드하고 싶다 | [상세] 시트: 날짜, 케이지ID, 교수, 비용 |

---

## 5. 비즈니스 규칙

### 5.1 과금 규칙

| 규칙 | 설명 |
|------|------|
| **일일 과금** | 케이지 1개당 1일 800원 |
| **다중 사용자 과금** | 같은 날 A→B가 순차 사용 시, A와 B 모두에게 각각 800원 청구 |
| **과금 시점** | 케이지 배정 시점 기준 (해당 일자에 과금) |

### 5.2 데이터 보존

| 규칙 | 설명 |
|------|------|
| **이력 보존** | 모든 배정/해제 기록은 영구 보존 |
| **삭제 정책** | 물리적 삭제 없음 (Soft Delete) |

---

## 6. 범위 정의

### 6.1 MVP 범위 (필수)

| 기능 | 포함 |
|------|------|
| FEAT-1 케이지 배정/해제 | ✅ |
| 랙/교수 설정 | ✅ |
| 기본 인증 (이메일+비밀번호) | ✅ |

### 6.2 2차 배포 범위 (선택)

| 기능 | 상태 |
|------|------|
| FEAT-2 실시간 현황판 | 🔜 |
| FEAT-3 과금 리포트 | 🔜 |

### 6.3 범위 외 (Non-goals)

| 제외 항목 | 사유 |
|-----------|------|
| 네이티브 모바일 앱 | 반응형 웹으로 충분 |
| 다국어 지원 | 내부 도구, 한국어만 필요 |
| 멀티테넌트 | 단일 센터 사용, 확장 계획 없음 |
| 결제 연동 | 내부 정산용, 외부 결제 불필요 |

---

## 7. 가정과 리스크

### 7.1 가정

| 가정 | 검증 방법 |
|------|-----------|
| 연구원들이 웹 UI에 빠르게 적응할 것이다 | MVP 배포 후 피드백 수집 |
| 동시 수정 충돌은 드물게 발생할 것이다 | Optimistic Locking으로 충분 |
| 소규모(~5명 동시접속)로 운영될 것이다 | SQLite로 충분 |

### 7.2 리스크 보드

| 가정 | 리스크 | 완화 방안 | 트리거 | 대응 |
|------|--------|-----------|--------|------|
| 웹 적응 | 연구원 거부감 | 스프레드시트 유사 UI | 사용률 30% 미만 | UX 재설계 |
| 동시성 | 충돌 빈발 | 폴링 주기 단축 | 충돌 일 10건+ | 실시간 DB 검토 |
| 규모 | 사용자 증가 | 수평 확장 설계 | 동시접속 20명+ | PostgreSQL 전환 |

---

## 8. 해결 가설

> "스프레드시트와 유사한 그리드 UI를 제공하되, 자동 저장과 히스토리 보존을 추가하면, 연구원들의 적응 시간을 최소화하면서 관리자의 정산 업무를 크게 줄일 수 있을 것이다."

### 실험 → 관측 → 학습 루프

1. **실험**: MVP(케이지 배정/해제)를 배포하고 2주간 운영
2. **관측**: 사용률, 충돌 빈도, 피드백 수집
3. **학습**: 불편 사항 파악, 다음 가설 수립
4. **다음 가설**: FEAT-2/3 추가 시 정산 시간이 50% 감소할 것이다
